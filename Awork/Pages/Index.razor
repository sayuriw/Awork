@page "/"
@using System.ComponentModel.DataAnnotations
@using Awork.Data



<h1>Creditcard Code Challange</h1>



<div class="form">
    

    <EditForm Model="@data" OnValidSubmit="@createData">
        <DataAnnotationsValidator />


        <p class="inputField">
            <label>
                Card Number:
                <MyInput placeholder="XXXX XXXX XXXX XXXX" @bind-Value="data.CardNumber" />
            </label>
            <ValidationMessage For="@(() => data.CardNumber)" />

        </p>
        <p class="inputField">
            <label>
                Card Name:
                <MyInput placeholder="John Smith" @bind-Value="data.CardName" />
            </label>
            <ValidationMessage For="@(() => data.CardName)" />
        </p>
        <div class="selectors-area">
            <div class="selector">
                <MySelectInput @bind-Value="data.MonthValidity"
                               ValidationFor="@(() => data.MonthValidity)"
                               Label="Month">

                    <option>Month</option>
                    @for (int i = 1; i <= 12; i++)
                    {
                        <option value="@i">@i</option>
                    }

                </MySelectInput>
            </div>
            <div class="selector">
                <MySelectInput @bind-Value="data.YearValidity"
                               ValidationFor="@(() => data.YearValidity)"
                               Label="Year">

                    <option>Year</option>
                    @for (int i = 2020; i <= 2030; i++)
                    {
                        <option value="@i">@i</option>
                    }

                </MySelectInput>
            </div>
            <p>
                <label>
                    Cvv:
                    <MyInput placeholder="XXXX" @bind-Value="data.CvvNumber" />
                </label>
                <ValidationMessage For="@(() => data.CvvNumber)" />

            </p>
        </div>
        <div class="wrapper">
            <button type="submit">Send</button>
        </div>

        <p>@data.CardNumber</p>
        <p>@data.CardName</p>
        <p>@data.MonthValidity</p>
        <p>@data.YearValidity</p>
        <p>@data.CvvNumber</p>

        <p>
            <label>@CardInformation</label>
        </p>

    </EditForm>
</div>






@code {

    private CardData data = new CardData();

    public string CardInformation = "";

    public void createData()
    {
        CardInformation = $"Cardnumber:{data.CardNumber}, Name:{data.CardName},  Validity:{data.MonthValidity}/{data.YearValidity}, CVV:{data.CvvNumber}";
        
    }


}



